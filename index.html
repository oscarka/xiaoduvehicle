<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>健康保险 Pro - 手工调整版</title>
    <link rel="stylesheet" href="styles.css?v=20250925_23">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="main-container">
        
        <!-- 左侧SVG -->
        <div class="sidebar-left">
            <div class="draggable-element" id="left-element">
                <img src="左侧.svg" alt="左侧" class="left-svg">
                <div class="resize-handles">
                    <div class="resize-handle resize-handle-nw"></div>
                    <div class="resize-handle resize-handle-ne"></div>
                    <div class="resize-handle resize-handle-sw"></div>
                    <div class="resize-handle resize-handle-se"></div>
                </div>
            </div>
        </div>
        
        <!-- 中央主内容区 -->
        <div class="main-content">
            <div class="draggable-element" id="center-element">
                <img src="中部.svg" alt="中部" class="center-svg">
                <div class="resize-handles">
                    <div class="resize-handle resize-handle-nw"></div>
                    <div class="resize-handle resize-handle-ne"></div>
                    <div class="resize-handle resize-handle-sw"></div>
                    <div class="resize-handle resize-handle-se"></div>
                </div>
            </div>
        </div>
        
        <!-- 右侧SVG -->
        <div class="sidebar-right">
            <div class="draggable-element" id="right-element">
                <img src="右侧.svg" alt="右侧" class="right-svg">
                <div class="resize-handles">
                    <div class="resize-handle resize-handle-nw"></div>
                    <div class="resize-handle resize-handle-ne"></div>
                    <div class="resize-handle resize-handle-sw"></div>
                    <div class="resize-handle resize-handle-se"></div>
                </div>
            </div>
        </div>
        
    </div>
    
    <!-- 手工调整面板 -->
    <div class="adjustment-panel">
        <h3>元素调整面板</h3>
        
        <div class="element-selector">
            <label>选择元素:</label>
            <select id="element-selector">
                <option value="left-element">左侧元素</option>
                <option value="center-element">中部元素</option>
                <option value="right-element">右侧元素</option>
            </select>
        </div>
        
        <div class="control-group">
            <label>X位置: <span id="position-x-value">0</span>px</label>
            <input type="range" id="position-x" min="-200" max="200" value="0" step="5">
        </div>
        
        <div class="control-group">
            <label>Y位置: <span id="position-y-value">0</span>px</label>
            <input type="range" id="position-y" min="-200" max="200" value="0" step="5">
        </div>
        
        <div class="control-group">
            <label>宽度: <span id="element-width-value">200</span>px</label>
            <input type="range" id="element-width" min="100" max="500" value="200" step="5">
        </div>
        
        <div class="control-group">
            <label>高度: <span id="element-height-value">auto</span></label>
            <input type="range" id="element-height" min="100" max="600" value="400" step="5">
        </div>
        
        <div class="control-group">
            <label>整体缩放: <span id="scale-value">100</span>%</label>
            <input type="range" id="scale" min="50" max="150" value="100">
        </div>
        
        <button onclick="resetElement()">重置当前元素</button>
        <button onclick="resetAllElements()">重置所有元素</button>
        <button onclick="copyCSS()">复制CSS</button>
    </div>
    
    <script>
        // 元素数据存储
        const elementData = {
            'left-element': { x: 0, y: 0, width: 200, height: 'auto' },
            'center-element': { x: 0, y: 0, width: 520, height: 'auto' },
            'right-element': { x: 0, y: 0, width: 240, height: 'auto' }
        };
        
        let currentElement = 'left-element';
        let isDragging = false;
        let isResizing = false;
        let dragStart = { x: 0, y: 0 };
        let resizeStart = { x: 0, y: 0, width: 0, height: 0 };
        
        // 更新当前选中的元素
        function updateCurrentElement() {
            currentElement = document.getElementById('element-selector').value;
            updatePanelValues();
            highlightCurrentElement();
        }
        
        // 更新面板值
        function updatePanelValues() {
            const data = elementData[currentElement];
            document.getElementById('position-x').value = data.x;
            document.getElementById('position-y').value = data.y;
            document.getElementById('element-width').value = data.width;
            document.getElementById('element-height').value = data.height === 'auto' ? 400 : data.height;
            
            document.getElementById('position-x-value').textContent = data.x;
            document.getElementById('position-y-value').textContent = data.y;
            document.getElementById('element-width-value').textContent = data.width;
            document.getElementById('element-height-value').textContent = data.height;
        }
        
        // 高亮当前元素
        function highlightCurrentElement() {
            document.querySelectorAll('.draggable-element').forEach(el => el.classList.remove('active'));
            document.getElementById(currentElement).classList.add('active');
        }
        
        // 应用元素位置和大小
        function applyElementStyle(elementId) {
            const element = document.getElementById(elementId);
            const data = elementData[elementId];
            
            element.style.transform = `translate(${data.x}px, ${data.y}px)`;
            element.style.width = data.width + 'px';
            if (data.height !== 'auto') {
                element.style.height = data.height + 'px';
            } else {
                element.style.height = 'auto';
            }
        }
        
        // 更新位置
        function updatePositionX() {
            const value = parseInt(document.getElementById('position-x').value);
            elementData[currentElement].x = value;
            document.getElementById('position-x-value').textContent = value;
            applyElementStyle(currentElement);
        }
        
        function updatePositionY() {
            const value = parseInt(document.getElementById('position-y').value);
            elementData[currentElement].y = value;
            document.getElementById('position-y-value').textContent = value;
            applyElementStyle(currentElement);
        }
        
        // 更新大小
        function updateElementWidth() {
            const value = parseInt(document.getElementById('element-width').value);
            elementData[currentElement].width = value;
            document.getElementById('element-width-value').textContent = value;
            applyElementStyle(currentElement);
        }
        
        function updateElementHeight() {
            const value = parseInt(document.getElementById('element-height').value);
            elementData[currentElement].height = value;
            document.getElementById('element-height-value').textContent = value;
            applyElementStyle(currentElement);
        }
        
        // 整体缩放
        function updateScale() {
            const value = document.getElementById('scale').value;
            document.getElementById('scale-value').textContent = value;
            document.documentElement.style.setProperty('--scale', value + '%');
        }
        
        // 重置当前元素
        function resetElement() {
            const defaultData = {
                'left-element': { x: 0, y: 0, width: 200, height: 'auto' },
                'center-element': { x: 0, y: 0, width: 520, height: 'auto' },
                'right-element': { x: 0, y: 0, width: 240, height: 'auto' }
            };
            
            elementData[currentElement] = { ...defaultData[currentElement] };
            updatePanelValues();
            applyElementStyle(currentElement);
        }
        
        // 重置所有元素
        function resetAllElements() {
            elementData['left-element'] = { x: 0, y: 0, width: 200, height: 'auto' };
            elementData['center-element'] = { x: 0, y: 0, width: 520, height: 'auto' };
            elementData['right-element'] = { x: 0, y: 0, width: 240, height: 'auto' };
            
            Object.keys(elementData).forEach(id => applyElementStyle(id));
            updatePanelValues();
        }
        
        // 复制CSS
        function copyCSS() {
            const scale = document.getElementById('scale').value;
            let css = `:root { --scale: ${scale}%; }\n\n`;
            
            Object.keys(elementData).forEach(id => {
                const data = elementData[id];
                css += `#${id} {\n`;
                css += `    transform: translate(${data.x}px, ${data.y}px);\n`;
                css += `    width: ${data.width}px;\n`;
                css += `    height: ${data.height === 'auto' ? 'auto' : data.height + 'px'};\n`;
                css += `}\n\n`;
            });
            
            navigator.clipboard.writeText(css).then(() => {
                alert('CSS已复制到剪贴板！');
            });
        }
        
        // 拖拽功能
        function initDragAndResize() {
            document.querySelectorAll('.draggable-element').forEach(element => {
                // 拖拽功能
                element.addEventListener('mousedown', (e) => {
                    if (e.target.classList.contains('resize-handle')) return;
                    
                    isDragging = true;
                    currentElement = element.id;
                    updateCurrentElement();
                    
                    dragStart.x = e.clientX - elementData[currentElement].x;
                    dragStart.y = e.clientY - elementData[currentElement].y;
                    
                    element.style.cursor = 'grabbing';
                });
                
                // 调整大小功能
                element.querySelectorAll('.resize-handle').forEach(handle => {
                    handle.addEventListener('mousedown', (e) => {
                        e.stopPropagation();
                        isResizing = true;
                        currentElement = element.id;
                        updateCurrentElement();
                        
                        resizeStart.x = e.clientX;
                        resizeStart.y = e.clientY;
                        resizeStart.width = elementData[currentElement].width;
                        resizeStart.height = elementData[currentElement].height === 'auto' ? 400 : elementData[currentElement].height;
                    });
                });
            });
            
            // 全局鼠标事件
            document.addEventListener('mousemove', (e) => {
                if (isDragging) {
                    const newX = e.clientX - dragStart.x;
                    const newY = e.clientY - dragStart.y;
                    
                    elementData[currentElement].x = newX;
                    elementData[currentElement].y = newY;
                    
                    applyElementStyle(currentElement);
                    updatePanelValues();
                } else if (isResizing) {
                    const deltaX = e.clientX - resizeStart.x;
                    const deltaY = e.clientY - resizeStart.y;
                    
                    elementData[currentElement].width = Math.max(50, resizeStart.width + deltaX);
                    elementData[currentElement].height = Math.max(50, resizeStart.height + deltaY);
                    
                    applyElementStyle(currentElement);
                    updatePanelValues();
                }
            });
            
            document.addEventListener('mouseup', () => {
                isDragging = false;
                isResizing = false;
                document.querySelectorAll('.draggable-element').forEach(el => {
                    el.style.cursor = 'move';
                });
            });
        }
        
        // 绑定事件
        document.getElementById('element-selector').addEventListener('change', updateCurrentElement);
        document.getElementById('position-x').addEventListener('input', updatePositionX);
        document.getElementById('position-y').addEventListener('input', updatePositionY);
        document.getElementById('element-width').addEventListener('input', updateElementWidth);
        document.getElementById('element-height').addEventListener('input', updateElementHeight);
        document.getElementById('scale').addEventListener('input', updateScale);
        
        // 初始化
        initDragAndResize();
        updateCurrentElement();
        updateScale();
    </script>
</body>
</html>